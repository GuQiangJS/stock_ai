sudo: false

language: python

fast_finish: true

#env:
#  global:
#    # Doctr deploy key for GuQiangJS/finance-ai-py
#    - secure: "gAAAAABcHdn8Dzk62h8ltVAyp8TD7B_pGiJcA8GfmQg8YUvdoYrxrS1rMrwYfXRLsaftEdf939eL7Zx8kH1j4ZIFkNLKrC6WahGMQMQuqioaiBSWig3-0IwjRz_L554ahBic9nEWDY8xk4qLSzCtEyPmfBB6ZuOwOJ0NWFIYMlOh0nUL6ynCHl-9FcWpHsyxRuuRRTSc8mQRUpwCokN32jO5xrEDHSoE7AfYuK7JZymDhchKOIZQ5aqc5wk9YGrzBNDuNJjQqySPMwDTo6FceN5jealeT19hEybCZpxOJVce-gMOJJCspDjvxIwTHutQ6g5NsQCtJFSuO_vz7iUKTdqXqCmPmZTU8ZXnZalmkQaYrYL1NlcIV3QrPNqP5DhwZ6wqrhB-inPtzT7F3ICdJaSn6ks1hr_VL-4ukeCTo5TJSyLpuy7TCh3v1Nw7Dyjte3CecaxOOTfGedgmRTNuhx2GF14QD7iY-6raUdapcxaodDuIRRFZ6CEagxWt7dI1ta7pCWEGei4cdHEaszoWR9YWps_fAkarrCR9P4HxjHO5aNVYGv0wggXsuGYEJOQjxFji_rtXGu9BYgNwn-GVqPpgOcHxBJZNPgPJbWZGyDWfs2k6wFgeC_4nCd6PljRC0MjWHCBcWqoBaN8gi1Wf-Sfiq0iQ1_uBn8ALXnDpfieyWI26w8n0bEHHn6WYTvUf4MVUDEjRt5LFS6rx3UwOHaV5EA_vGIcLQT5s-VCRli_u2BC25SXoXOVfO8yY4KsKP1NyOao5L5r9rf9odlbiUgKgy1U3CsshtZ9-REy48KODhjTT1FEIee-UUhhPBhkVhDFnoro6UDN7JwJPPAOh5OLR6pgJBigFTwvl_nzN_vHMbpeFvpJjXI1wFwJsGoiKjs9Q3sSGjAiIVi4esRie8bLQkgaaHRLRv_zFmawULSI6isxAOgxhaS0VxdQ4HuBeyPwvwmL500Rqae1QK56R_rLXFoFmzLij_jt_1wkXNPTHU1vzi0tmudpVbRD-8a7DWcSkIech9g4TaOevolNuGa5djGKqjA4ou-LeZKjH-J8qix8Ew1WmaG9APvr5yAbYDqc5g_HRyzngctgBhvbmR6xM79-uQOilc6YYTmr_pC_lEaQDRW9ugsEVIP39dCY43X3nU3oJg1JjImqIJ8IG5Dzb4N7A02CQlIUS81iAMENjLX20pHsZ1ITlilrJ_DF4a6tU366iEpR_3GGskBaghDlnkRnI04Ln82nqA_XYwFPDdIteFNQw8RlIgqCJqiWdcFDmyVTlYoJ2ka3BKXUOANvR0JqpYKMXcA2dI6iv3EHpJpNp0RLrlx_iwaqBo6RvuTEr9ESOlTxi27b--CBBqiN2XQUqY5HH_bVeq18_rQkbcD63V5igQFVjs96I4yPcqvwLFAbp27_i789E4GfxJIUSzYCYBJGfdsbktepyE3q0HmS6bmUo6q33IEJd4-boB2QAYXDGetmXvsvWnycipAoisgkdBzPYNNezi-oLlSnVaDOHjWUaIL9SJCTkksD3YhM2dLo8hG4lpStUJ8uP7xRfWZpu7y1tDqmXvAg_6iMnH7dz2QOYKvvEuL7y2mKJ_Bqjk5G8x-HvRw-znH8VeoPEt8bjiLOR6PNV-lpSWGwvOoLT1jMz2g5qiGmnoFu063Dd_mgbRPt7dsmcsoEyhPUufL8SJkV98IQxdt7BZsHljC1AZFQ9SiH-0o6oSB88JQrdMCAwk4NsPOsxCKkbA9zF-GcAAhW7Usqf2oLcWVOZ5ac3P2zDA0638rMUNVA8GLh1gQchNS5zDLE1ckREpOh-FehluETqiHjEMYSXebgBXnfasRyLlZ3CULbcB6k_qfK3BHBDZZks1ggTUcLKThsKokmcYt1qwk1-Zx5y3MU2rAendNz8XgjjnxPft6NuNot-uKHn5hThxtM94JHKamyV7_IOH-zas9bnDm_jD3OiaDEh72wUuKkrSOF0hxc2CsfkOsH__SE91lA4LAFyVoYGI-q119D7IL5HjM9ps_-Jxjdrkoup-ZQvh-M70UBBWuEn7C-BnWQ7fCba6j2c96V-2cxW_SHMMxh65ngORVKfkN-87ZL4-HApVqeVTxiT-tPjiHkhX6o395L3SgunO_8sa3EBrDEMZftM2uX9KgHOmSLed3vXnDRXcUKkJ2u23DDNmmJViHjdqH9u6IlK85A66JK1peOpvsz5QntMPJwSYM83e1fCS9r4Uzoq846HFZcIBMtaZZT5GhTgx2yzVshxGmW0npeVRUX9FrChF_TwY_skTK3wqj4fhNvFhaVFxexRgNZxfmt1U7u6jYqA2fPL4lttXU7rXoCk2Eu7R8IPcLjD7QAqcfaLa1ITE8PVt4pB9gewvfi9lR86oc57qv1kZVDAswVY8mRgDjBeC6Gt6exnHqOThWtbDtGk6yTJWlZm0g5svUfZtkD1IXJY5j5TbKMjHIzpE-FnGr4tjJ4swi-UXWdua-N2LZfzGO6grztVfm8bL7J9C_siDT3b23DOmsA3zUhn4Tz8MbjiYTVqp5VRl9l3fTFlFp8OuF8fMq7B3aA6IQLFuRvzjym0CPfCW8hBtUvx8YXXGOltd67xXaFdoFgRaHEm0cLmeANb6uKFLf2-e3F0Xs4onXn0m6_fzJDDmEP1wvqCE1RHnAaMHjSY6AJFjjuungJgmGIHSp95fVH34KoN16e_kDr4uS712TuQ1iJNZvjSjSt354si6BYMrgTDj0AoeJ7Yc8CTvd90SU5tfmmu1fVSBy9FbVhnAropYD6n_99f4R_xnASgVkmZwKuaGk180TXqr6q0wylcb1qaspk9LByRFtOPOzmcgsyC0rlKuvSE9029fliIK5GuTgQRESwDKfRjI2vZY_wVLBNtm1QJ94gXVFAqJqyerF1oI9pquwgXJCA2a8ukTllf3pRW2bXZsD0Ftnt47Iz6x8Ct2mL98Rn0Dc1Opw3lstcZnXnk1UpezGNuPG50zdCHjKGPbBihLCHj3t3j48SVcs27s1uUxnXasJBHxOgusQgVmNGUywicu9rYCTDIKqStZbW2hLtvYwdo-BKtVeU787UvIQMKmJ0JPid9ynNjhvr2xy4UtFKySkPh8sk_KMaJ4MbRBFU_cI622v-lnp-X7l4Gr1wfKI7K2bGhFBVq5_QkYHHpo7o5RsxUKHR7AhmxXduJ6ac9ocdLShZ290Dvf4n6jVlaDojSzu7pZUqV1iGxKBOdOSoI-bq6Rra6y8W_xf9gfXey28U_eLXQjudgfXRvt1th_OQ3sglveBMnk2PRUi4SpQkyp4Wz0xYEC8clnLWWQkCKJ2bw1m9L_xeIv1JJNXnWlx_2fnT92R3q5SgIA1Os5wfnmex2Ws_EXuvoLeGVrZBISx8hL1HkLABPfem5a45O5p1AvhLZZZQUhlKB-uPB_lMzCtyrZN14bwGcNpygsrh_Yk2nvQpgkCz_BCGE8751tJ-VZ2kbVWzrCRuRJysN2aO_iWCqbuz2bsvUBxt9DCeiAqm5nuhg92s6AwI6TN5VK-vdbSkLd9L1Zy5eKyfGUajnzFHsgtQP9e0y0f-SnmWv6sffjzXXvqJCucpvVpCX7Q_gZmgMQltTevCX804NoMxuaRdTLtMmxetLcu5sxq_1K9FVinryPhNVCXcvGqOyN_VKLwznbJmXYW4RE8kuup0IG3RXSVOFpVwAx78xgiRkd9TQ65U7xzpdXstKmDA1RB7cu7WzBIRL97nRqnhZIMlw1B1WoMoKDHp6mJFF7iGooxYqcS2QiMXOiKDTZqD7fdzkwYuBnwp-fwDYb64X0zzLhbmK4wss__A7S8jeXGF96oFdlux5ULf3fBuRe51FoaTmAjazdC3XykGiJWSDzg-fAZXEzNNsVo8tUeMBYoWmDTNVCo-Lb4u4rkgeUoF5QDvgs9WZooK8zpo43FK_RjIDaKqM5MWS8vFDmPYp_R2xKmPifIhXSPcFMu7IIrK55gfXJ0s14Ow03Np7Of55rqOwrNSpbJcDPMXX9Ea2brNFR1mnxshyMSDZF_-HNocxMHE_o6bgyEQQsFS3vzSS5O8rRy9THd6bOiN6iKsR0WMfe_U81CD8GDVVpRXF4P1kC_vW_Srlgn3x3p-Dogkdscl1Jikfpwa9dFaibTpPil7W_tpQhvcSinY0s-A5N3T3hPpH_TAX90VCTcuX9J2ncTS3VuAaoW-T5SQvFk0d30vcTFPRBQuE0sMQiBF4uidn84ogi8vVlQ5hMfevkmuLnZGOBHpGABxzetmUtlSUBGp89xcYhwDYtBe-KEVCygvf-5fz8ogsM3UKD86c986KDOAUN05sc3Pmw58l2oPI6eVE_Q3TgPAmEmb-Z4qKWdu875bsbLYFxIo4ZYNIl5qjgrOpj2L2uDt0Euknzc_20vMH1NRZa5hr3w1y23ll9R5xdBv_KZ83iSGg-aFd6x9Hag=="

python:
  - "3.6"

matrix:
  include:
    - python: '3.6'
      env: DOCBUILD=true


install:
  - pip install QUANTAXIS
  - pip install --upgrade tensorflow
  - if [[ $DOCBUILD ]]; then
    pip install sphinx sphinx_rtd_theme doctr sphinxcontrib-napoleon;
    fi
script:
  - coverage run -m unittest discover stock_ai "test_*.py"
after_success:
  - coverage report
  - |
    if [[ $DOCBUILD ]]; then
      cd docs
      make html && make html
      cd ..
      doctr deploy devel --build-tags
    fi
  - coveralls